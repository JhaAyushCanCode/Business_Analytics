<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Analytics Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7f9;
            color: #333;
        }
        .dashboard-header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #0f4c75 0%, #3282b8 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .dashboard-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .chart-container {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .full-width {
            grid-column: 1 / span 2;
        }
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        .summary-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            text-align: center;
        }
        .summary-card h3 {
            margin: 0;
            font-size: 14px;
            color: #666;
        }
        .summary-card .value {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }
        .positive {
            color: #28a745;
        }
        .negative {
            color: #dc3545;
        }
        h2 {
            color: #0f4c75;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .controls button {
            padding: 8px 16px;
            background: #3282b8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .controls button:hover {
            background: #0f4c75;
        }
    </style>
</head>
<body>
    <div class="dashboard-header">
        <h1>Financial Analytics Dashboard</h1>
        <p>Comprehensive analysis of stock performance, market trends, and financial indicators</p>
    </div>

    <div class="controls">
        <button onclick="updateChart('1M')">1 Month</button>
        <button onclick="updateChart('3M')">3 Months</button>
        <button onclick="updateChart('6M')">6 Months</button>
        <button onclick="updateChart('1Y')">1 Year</button>
        <button onclick="updateChart('ALL')">All Time</button>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <h3>CURRENT PRICE</h3>
            <div class="value">$171.25</div>
            <div class="positive">+2.35% Today</div>
        </div>
        <div class="summary-card">
            <h3>VOLATILITY (30D)</h3>
            <div class="value">1.8%</div>
            <div>Average: 1.5%</div>
        </div>
        <div class="summary-card">
            <h3>RSI (14D)</h3>
            <div class="value">62.4</div>
            <div>Neutral</div>
        </div>
        <div class="summary-card">
            <h3>SUPPORT / RESISTANCE</h3>
            <div class="value">$165 / $175</div>
            <div>Next Levels</div>
        </div>
    </div>

    <div class="dashboard-container">
        <div class="chart-container full-width">
            <h2>AAPL Stock Price with Moving Averages</h2>
            <div id="priceChart" style="height: 400px;"></div>
        </div>
        <div class="chart-container">
            <h2>Daily Returns Distribution</h2>
            <div id="returnsChart" style="height: 300px;"></div>
        </div>
        <div class="chart-container">
            <h2>Volume Analysis</h2>
            <div id="volumeChart" style="height: 300px;"></div>
        </div>
        <div class="chart-container">
            <h2>Relative Strength Index (RSI)</h2>
            <div id="rsiChart" style="height: 300px;"></div>
        </div>
        <div class="chart-container">
            <h2>Sector Performance Comparison</h2>
            <div id="sectorChart" style="height: 300px;"></div>
        </div>
    </div>

    <script>
        // Generate sample financial data
        function generateData(period) {
            var baseDate = new Date();
            var data = [];
            var count = 100;
            
            if (period === '1M') count = 30;
            else if (period === '3M') count = 90;
            else if (period === '6M') count = 180;
            else if (period === '1Y') count = 365;
            
            var basePrice = 150;
            var dates = [];
            var prices = [];
            var ma50 = [];
            var ma200 = [];
            var volumes = [];
            var rsi = [];
            
            for (var i = count; i >= 0; i--) {
                var date = new Date();
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
                
                // Random walk for price
                var change = (Math.random() - 0.48) * 3;
                basePrice += change;
                prices.push(basePrice);
                
                // Calculate moving averages
                if (i < count - 50) {
                    ma50.push(prices.slice(i, i+50).reduce((a, b) => a + b, 0) / 50);
                } else {
                    ma50.push(null);
                }
                
                if (i < count - 200) {
                    ma200.push(prices.slice(i, i+200).reduce((a, b) => a + b, 0) / 200);
                } else {
                    ma200.push(null);
                }
                
                // Volume
                volumes.push(Math.random() * 10000000 + 5000000);
                
                // RSI (simplified)
                rsi.push(Math.random() * 30 + 40);
            }
            
            return {dates, prices, ma50, ma200, volumes, rsi};
        }
        
        // Initialize with 6 months data
        var financialData = generateData('6M');
        
        // Price Chart
        var priceTrace1 = {
            x: financialData.dates,
            y: financialData.prices,
            type: 'scatter',
            mode: 'lines',
            name: 'AAPL',
            line: {color: '#3282b8', width: 2}
        };
        
        var priceTrace2 = {
            x: financialData.dates,
            y: financialData.ma50,
            type: 'scatter',
            mode: 'lines',
            name: '50-Day MA',
            line: {color: '#FFA73F', width: 1.5}
        };
        
        var priceTrace3 = {
            x: financialData.dates,
            y: financialData.ma200,
            type: 'scatter',
            mode: 'lines',
            name: '200-Day MA',
            line: {color: '#dc3545', width: 1.5}
        };
        
        var priceData = [priceTrace1, priceTrace2, priceTrace3];
        
        var priceLayout = {
            margin: {t: 30},
            yaxis: {
                title: 'Price ($)'
            }
        };
        
        Plotly.newPlot('priceChart', priceData, priceLayout);
        
        // Returns Chart
        var returns = [];
        for (var i = 1; i < financialData.prices.length; i++) {
            returns.push(((financialData.prices[i] - financialData.prices[i-1]) / financialData.prices[i-1]) * 100);
        }
        
        var returnsData = [{
            x: returns,
            type: 'histogram',
            marker: {
                color: '#3282b8'
            }
        }];
        
        var returnsLayout = {
            margin: {t: 30},
            xaxis: {
                title: 'Daily Return (%)'
            },
            yaxis: {
                title: 'Frequency'
            }
        };
        
        Plotly.newPlot('returnsChart', returnsData, returnsLayout);
        
        // Volume Chart
        var volumeData = [{
            x: financialData.dates,
            y: financialData.volumes,
            type: 'bar',
            name: 'Volume',
            marker: {
                color: '#28a745'
            }
        }];
        
        var volumeLayout = {
            margin: {t: 30},
            yaxis: {
                title: 'Volume'
            }
        };
        
        Plotly.newPlot('volumeChart', volumeData, volumeLayout);
        
        // RSI Chart
        var rsiData = [{
            x: financialData.dates,
            y: financialData.rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI',
            line: {
                color: '#6f42c1',
                width: 2
            }
        }];
        
        var rsiLayout = {
            margin: {t: 30},
            yaxis: {
                title: 'RSI',
                range: [0, 100]
            },
            shapes: [
                // Overbought line
                {
                    type: 'line',
                    xref: 'paper',
                    x0: 0,
                    y0: 70,
                    x1: 1,
                    y1: 70,
                    line: {
                        color: 'red',
                        width: 1,
                        dash: 'dash'
                    }
                },
                // Oversold line
                {
                    type: 'line',
                    xref: 'paper',
                    x0: 0,
                    y0: 30,
                    x1: 1,
                    y1: 30,
                    line: {
                        color: 'green',
                        width: 1,
                        dash: 'dash'
                    }
                }
            ]
        };
        
        Plotly.newPlot('rsiChart', rsiData, rsiLayout);
        
        // Sector Chart
        var sectorData = [{
            x: ['Technology', 'Healthcare', 'Financials', 'Consumer Cyclical', 'Communication', 'Industrials', 'Energy', 'Utilities'],
            y: [12.5, 8.2, 6.7, 9.1, 11.3, 5.4, -2.1, 3.2],
            type: 'bar',
            marker: {
                color: ['#3282b8', '#28a745', '#ffc107', '#dc3545', '#6f42c1', '#fd7e14', '#20c997', '#e83e8c']
            }
        }];
        
        var sectorLayout = {
            margin: {t: 30},
            yaxis: {
                title: 'YTD Performance (%)'
            }
        };
        
        Plotly.newPlot('sectorChart', sectorData, sectorLayout);
        
        // Update chart function
        function updateChart(period) {
            financialData = generateData(period);
            
            // Update price chart
            Plotly.update('priceChart', {
                x: [financialData.dates, financialData.dates, financialData.dates],
                y: [financialData.prices, financialData.ma50, financialData.ma200]
            });
            
            // Update returns
            returns = [];
            for (var i = 1; i < financialData.prices.length; i++) {
                returns.push(((financialData.prices[i] - financialData.prices[i-1]) / financialData.prices[i-1]) * 100);
            }
            
            Plotly.update('returnsChart', {
                x: [returns]
            });
            
            // Update volume
            Plotly.update('volumeChart', {
                x: [financialData.dates],
                y: [financialData.volumes]
            });
            
            // Update RSI
            Plotly.update('rsiChart', {
                x: [financialData.dates],
                y: [financialData.rsi]
            });
        }
    </script>
</body>
</html>